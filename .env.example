# ConformAI Environment Configuration - EXAMPLE FILE
# ============================================================
# SECURITY WARNING: This is an example configuration file.
#
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace ALL placeholder values with your actual credentials
# 3. NEVER commit your .env file to version control
# 4. .env is already in .gitignore to prevent accidental commits
#
# All placeholder values below MUST be replaced for the application
# to run properly. Look for CHANGE_THIS, GENERATE, or YOUR_KEY_HERE.
# ============================================================

# API Keys (At least one is required depending on LLM_PROVIDER)
# Get your keys from:
# - Anthropic: https://console.anthropic.com/
# - OpenAI: https://platform.openai.com/api-keys
ANTHROPIC_API_KEY=sk-ant-api03-YOUR_KEY_HERE
OPENAI_API_KEY=sk-YOUR_KEY_HERE

# Opik Observability (Optional - for monitoring and tracing)
OPIK_API_KEY=your_opik_api_key_here
COMET_WORKSPACE=conformai
OPIK_PROJECT_NAME=eu-compliance-rag
OPIK_URL=https://www.comet.com/opik/api
OPIK_ENABLED=false

# Database Configuration
# IMPORTANT: Change the default password for production
POSTGRES_USER=conformai
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
POSTGRES_DB=conformai
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql://conformai:CHANGE_THIS_SECURE_PASSWORD@localhost:5432/conformai

# Vector Database (Qdrant)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION_NAME=eu_legal_documents

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# Airflow
# IMPORTANT: Generate secure keys for production
# Fernet key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://conformai:CHANGE_THIS_PASSWORD@localhost:5432/conformai
AIRFLOW__CELERY__BROKER_URL=redis://localhost:6379/0
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://conformai:CHANGE_THIS_PASSWORD@localhost:5432/conformai
AIRFLOW__CORE__FERNET_KEY=GENERATE_FERNET_KEY_HERE
AIRFLOW__WEBSERVER__SECRET_KEY=GENERATE_SECRET_KEY_HERE

# Email Notifications (for Airflow alerts and pipeline notifications)
# IMPORTANT: Replace these with your actual SMTP credentials
# For Gmail: Use an App Password (https://support.google.com/accounts/answer/185833)
ALERT_EMAIL=admin@example.com
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-smtp-password-here
SMTP_FROM=noreply@example.com

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=4

# RAG Service
RAG_SERVICE_HOST=localhost
RAG_SERVICE_PORT=8001

# Retrieval Service
RETRIEVAL_SERVICE_HOST=localhost
RETRIEVAL_SERVICE_PORT=8002

# Embedding Model (OpenAI)
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIMENSION=1024
EMBEDDING_PROVIDER=openai
EMBEDDING_DEVICE=cpu

# LLM Configuration
LLM_PROVIDER=anthropic
LLM_MODEL=claude-3-5-sonnet-20241022
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=4096

# Retrieval Configuration
RETRIEVAL_TOP_K=10
RETRIEVAL_FETCH_K=50
RETRIEVAL_MMR_LAMBDA=0.7
RETRIEVAL_MIN_CONFIDENCE=0.6

# Document Processing
CHUNK_SIZE=512
CHUNK_OVERLAP=50
MAX_ARTICLE_LENGTH=2048

# Data Sources
EURLEX_API_BASE_URL=https://publications.europa.eu/webapi/rdf/sparql
EDPB_RSS_URL=https://edpb.europa.eu/rss.xml

# Storage (MinIO - S3-compatible object storage)
# Default MinIO credentials for local development only
# IMPORTANT: Change these for production deployments
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minio_access_key
S3_SECRET_KEY=minio_secret_key_change_me
S3_BUCKET_NAME=conformai-documents

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Security
# IMPORTANT: Generate a secure random string for JWT_SECRET_KEY
# Example: openssl rand -hex 32
API_KEY_HEADER=X-API-Key
JWT_SECRET_KEY=GENERATE_SECURE_RANDOM_STRING_HERE
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# Rate Limiting
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100

# Development
DEBUG=false
ENVIRONMENT=development
