# ConformAI Environment Configuration
# All values must be set for the application to run properly

# API Keys (At least one is required depending on LLM_PROVIDER)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# Opik Observability (Optional - for monitoring and tracing)
OPIK_API_KEY=your_opik_api_key_here
COMET_WORKSPACE=conformai
OPIK_PROJECT_NAME=eu-compliance-rag
OPIK_URL=https://www.comet.com/opik/api
OPIK_ENABLED=false

# Database Configuration
POSTGRES_USER=conformai
POSTGRES_PASSWORD=conformai_secure_password_change_me
POSTGRES_DB=conformai
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql://conformai:conformai_secure_password_change_me@localhost:5432/conformai

# Vector Database (Qdrant)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_URL=http://localhost:6333

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# Airflow
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://conformai:conformai_secure_password_change_me@localhost:5432/conformai
AIRFLOW__CELERY__BROKER_URL=redis://localhost:6379/0
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://conformai:conformai_secure_password_change_me@localhost:5432/conformai
AIRFLOW__CORE__FERNET_KEY=your_fernet_key_here
AIRFLOW__WEBSERVER__SECRET_KEY=your_secret_key_here

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=4

# RAG Service
RAG_SERVICE_HOST=localhost
RAG_SERVICE_PORT=8001

# Retrieval Service
RETRIEVAL_SERVICE_HOST=localhost
RETRIEVAL_SERVICE_PORT=8002

# Embedding Model (OpenAI)
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIMENSION=1024
EMBEDDING_PROVIDER=openai
EMBEDDING_DEVICE=cpu

# LLM Configuration
LLM_PROVIDER=anthropic
LLM_MODEL=claude-3-5-sonnet-20241022
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=4096

# Retrieval Configuration
RETRIEVAL_TOP_K=10
RETRIEVAL_FETCH_K=50
RETRIEVAL_MMR_LAMBDA=0.7
RETRIEVAL_MIN_CONFIDENCE=0.6

# Document Processing
CHUNK_SIZE=512
CHUNK_OVERLAP=50
MAX_ARTICLE_LENGTH=2048

# Data Sources
EURLEX_API_BASE_URL=https://publications.europa.eu/webapi/rdf/sparql
EDPB_RSS_URL=https://edpb.europa.eu/rss.xml

# Storage
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET_NAME=conformai-documents

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Security
API_KEY_HEADER=X-API-Key
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# Rate Limiting
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100

# Development
DEBUG=false
ENVIRONMENT=development
